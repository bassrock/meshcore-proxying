# Serial device path (adjust for your system)
SERIAL_PORT=/dev/ttyACM0
SERIAL_BAUD=115200

# Server ports (usually no need to change)
# HTTP_PORT=8080
# WS_PORT=3000
# TCP_PORT=5000

# Max buffered push notifications replayed to new WebSocket clients
# PUSH_BUFFER_SIZE=1000

# Enable debug logging
# DEBUG=1

# =========================================================================
# MeshCore Packet Capture Configuration (meshcore-packet-capture)
# =========================================================================

# Connection to meshcore-proxying TCP bridge
PACKETCAPTURE_CONNECTION_TYPE=tcp
PACKETCAPTURE_TCP_HOST=localhost
PACKETCAPTURE_TCP_PORT=5000

# Location Code (3-letter IATA airport code)
# PACKETCAPTURE_IATA=XXX

# Advert Settings
PACKETCAPTURE_ADVERT_INTERVAL_HOURS=11

# Packet Type Filtering (comma-separated list of packet type numbers to upload to MQTT)
# Leave commented out to upload all packet types
# Example: PACKETCAPTURE_UPLOAD_PACKET_TYPES=2,4  (upload only TXT_MSG and ADVERT)
#PACKETCAPTURE_UPLOAD_PACKET_TYPES=

# Logging Settings
PACKETCAPTURE_LOG_LEVEL=INFO

# Associate observer with your companion node / LetsMesh account
# PACKETCAPTURE_OWNER_PUBLIC_KEY=<your companion node's 64-char hex public key>
# PACKETCAPTURE_OWNER_EMAIL=you@example.com

# MQTT Broker 1 - LetsMesh.net Packet Analyzer (US)
PACKETCAPTURE_MQTT1_ENABLED=true
PACKETCAPTURE_MQTT1_SERVER=mqtt-us-v1.letsmesh.net
PACKETCAPTURE_MQTT1_PORT=443
PACKETCAPTURE_MQTT1_TRANSPORT=websockets
PACKETCAPTURE_MQTT1_USE_TLS=true
PACKETCAPTURE_MQTT1_USE_AUTH_TOKEN=true
PACKETCAPTURE_MQTT1_TOKEN_AUDIENCE=mqtt-us-v1.letsmesh.net
PACKETCAPTURE_MQTT1_KEEPALIVE=120

# MQTT Broker 2 - LetsMesh.net Packet Analyzer (EU)
PACKETCAPTURE_MQTT2_ENABLED=true
PACKETCAPTURE_MQTT2_SERVER=mqtt-eu-v1.letsmesh.net
PACKETCAPTURE_MQTT2_PORT=443
PACKETCAPTURE_MQTT2_TRANSPORT=websockets
PACKETCAPTURE_MQTT2_USE_TLS=true
PACKETCAPTURE_MQTT2_USE_AUTH_TOKEN=true
PACKETCAPTURE_MQTT2_TOKEN_AUDIENCE=mqtt-eu-v1.letsmesh.net
PACKETCAPTURE_MQTT2_KEEPALIVE=120

# MQTT Topics for Broker 1 - Default Pattern
PACKETCAPTURE_MQTT1_TOPIC_STATUS=meshcore/{IATA}/{PUBLIC_KEY}/status
PACKETCAPTURE_MQTT1_TOPIC_PACKETS=meshcore/{IATA}/{PUBLIC_KEY}/packets

# MQTT Topics for Broker 2 - Default Pattern
PACKETCAPTURE_MQTT2_TOPIC_STATUS=meshcore/{IATA}/{PUBLIC_KEY}/status
PACKETCAPTURE_MQTT2_TOPIC_PACKETS=meshcore/{IATA}/{PUBLIC_KEY}/packets

# Update source (configured by installer)
PACKETCAPTURE_UPDATE_REPO=agessaman/meshcore-packet-capture
PACKETCAPTURE_UPDATE_BRANCH=main
